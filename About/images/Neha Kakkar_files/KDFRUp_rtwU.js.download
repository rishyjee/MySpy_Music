if (self.CavalryLogger) { CavalryLogger.start_js(["CzUon"]); }

__d("Button.react",["cx","AbstractButton.react","React","joinClasses"],(function a(b,c,d,e,f,g,h){__p&&__p();var i,j,k=c("React").PropTypes;i=babelHelpers.inherits(l,c("React").Component);j=i&&i.prototype;l.prototype.render=function(){"use strict";var m=this.props.use||"default",n=this.props.size||"medium",o="_42fu"+(m==="special"?" _42gz":"")+(m==="confirm"?" _42g-":"")+(n==="large"?" _42gy":"")+(this.props.suppressed?" _42gx":"")+(m!=="default"?" selected":"");return c("React").createElement(c("AbstractButton.react"),babelHelpers["extends"]({},this.props,{label:this.props.label,className:c("joinClasses")(this.props.className,o)}))};function l(){"use strict";i.apply(this,arguments)}l.propTypes={use:k.oneOf(["special","confirm","default"]),size:k.oneOf(["medium","large"]),suppressed:k.bool};f.exports=l}),null);
__d("OfferClaimMutation.graphql",[],(function a(b,c,d,e,f,g){"use strict";var h=function(){var i=[{kind:"LocalArgument",name:"input",type:"OfferClaimData!",defaultValue:null}],j=[{kind:"LinkedField",alias:null,name:"offer_claim",storageKey:null,args:[{kind:"Variable",name:"data",variableName:"input",type:"OfferClaimData!"}],concreteType:"OfferClaimResponsePayload",plural:false,selections:[{kind:"LinkedField",alias:null,name:"offer_claim_data",storageKey:null,args:null,concreteType:"PageOfferClaimData",plural:false,selections:[{kind:"ScalarField",alias:null,name:"offer_claim_id",args:null,storageKey:null},{kind:"ScalarField",alias:null,name:"offer_claim_status",args:null,storageKey:null},{kind:"ScalarField",alias:null,name:"offer_claim_used_status",args:null,storageKey:null},{kind:"ScalarField",alias:null,name:"offer_saves_context",args:null,storageKey:null},{kind:"ScalarField",alias:null,name:"offer_source_id",args:null,storageKey:null},{kind:"ScalarField",alias:null,name:"unique_discount_code",args:null,storageKey:null},{kind:"ScalarField",alias:null,name:"notifications_enabled",args:null,storageKey:null}]}]}];return{kind:"Request",operationKind:"mutation",name:"OfferClaimMutation",id:"1437325306377728",text:null,metadata:{},fragment:{kind:"Fragment",name:"OfferClaimMutation",type:"Mutation",metadata:null,argumentDefinitions:i,selections:j},operation:{kind:"Operation",name:"OfferClaimMutation",argumentDefinitions:i,selections:j}}}();f.exports=h}),null);
__d("OfferClaimMutation",["RelayModern","OfferClaimMutation.graphql"],(function a(b,c,d,e,f,g){"use strict";var h=c("RelayModern").commitMutation,i=c("RelayModern").graphql,j=function j(){return c("OfferClaimMutation.graphql")};function k(l,m,n){return h(l,{mutation:j,onCompleted:n.onSuccess,onError:n.onError,variables:{input:{offer_id:m.offerId,offer_claim_status:m.offerClaimStatus,referrer:m.referrer,share_id:m.sourceID}}})}f.exports={commit:k}}),null);
__d("OfferClaimStatus",[],(function a(b,c,d,e,f,g){f.exports=Object.freeze({ACTIVE:"ACTIVE",INCOMPLETE:"INCOMPLETE",DELETED:"DELETED"})}),null);
__d("SalesPromoWebDriverTestID",[],(function a(b,c,d,e,f,g){f.exports=Object.freeze({ACTION_LINK:"action_link",COMPOSER_DIALOG:"composer_dialog",COMPOSER_DIALOG_BUTTON_PUBLISH:"composer_dialog_button_publish",COMPOSER_DIALOG_BUTTON_UPLOAD_PHOTO:"composer_dialog_button_upload_photo",COMPOSER_DIALOG_INPUT_DESCRIPTION:"composer_dialog_input_description"})}),null);
__d("XSalesPromoSetInterestedAsyncController",["XController"],(function a(b,c,d,e,f,g){f.exports=c("XController").create("/sales_promo/interested/set/",{id:{type:"FBID",required:true},ad_id:{type:"Int"},is_interested:{type:"Bool",defaultValue:false},location:{type:"String"}})}),null);
__d("SalesPromoActionLink.react",["ix","cx","fbt","AsyncRequest","Button.react","CenteredContainer.react","DOMContainer.react","Image.react","Layout.react","OfferClaimStatus","OfferClaimMutation","React","RelayFBEnvironment","SalesPromoWebDriverTestID","fbglyph","XSalesPromoSetInterestedAsyncController"],(function a(b,c,d,e,f,g,h,i,j){"use strict";__p&&__p();var k,l,m=c("Layout.react").Column,n=c("Layout.react").FillColumn;k=babelHelpers.inherits(o,c("React").Component);l=k&&k.prototype;function o(p){__p&&__p();l.constructor.call(this,p);this.$SalesPromoActionLink1=function(event){__p&&__p();this.setState({isSaveDisabled:true});var q=!this.state.isSaved;if(this.props.is_offerx){c("OfferClaimMutation").commit(c("RelayFBEnvironment"),{offerId:this.props.salesPromoID.toString(),offerClaimStatus:q?c("OfferClaimStatus").ACTIVE:c("OfferClaimStatus").DELETED},{onSuccess:function(){this.setState(function(s){return{isBefore:!s.isBefore,isSaved:q,isSaveDisabled:false}})}.bind(this),onError:function s(){return}});return}var r=c("XSalesPromoSetInterestedAsyncController").getURIBuilder().setFBID("id",this.props.salesPromoID.toString()).setInt("ad_id",this.props.adID).setBool("is_interested",q).setString("location",this.props.location).getURI();new(c("AsyncRequest"))(r).setMethod("POST").setHandler(function(s){if(s.error)return;this.setState(function(t){return{isBefore:!t.isBefore,isSaved:q,isSaveDisabled:false}})}.bind(this)).send()}.bind(this);this.state={isBefore:true,isSaved:!!this.props.isSaved,isSaveDisabled:false}}o.prototype.render=function(){return c("React").createElement(c("Layout.react"),{"data-testid":c("SalesPromoWebDriverTestID").ACTION_LINK,className:"_3-8y"},c("React").createElement(m,null,c("React").createElement("div",{className:"_17ow"},c("React").createElement(c("Image.react"),{className:"_2hna",src:h("115304")}))),c("React").createElement(n,{className:"_618o"},c("React").createElement(c("CenteredContainer.react"),{className:"_618p",fullHeight:true,horizontal:false,vertical:true},c("React").createElement(c("DOMContainer.react"),null,this.state.isBefore?this.props.social_context_before:this.props.social_context_after))),c("React").createElement(m,null,c("React").createElement(c("CenteredContainer.react"),{fullHeight:true,horizontal:false,vertical:true},c("React").createElement(c("Button.react"),{use:"default",disabled:this.state.isSaveDisabled,label:this.state.isSaved?j._("Saved"):j._("Save"),image:this.state.isSaved?c("React").createElement(c("Image.react"),{src:h("133668")}):c("React").createElement(c("Image.react"),{src:h("128862")}),onClick:this.$SalesPromoActionLink1}))))};f.exports=o}),null);