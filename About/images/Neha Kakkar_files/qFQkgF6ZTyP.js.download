if (self.CavalryLogger) { CavalryLogger.start_js(["L2zt9"]); }

__d("XLynxAsyncCallbackController",["XController"],(function a(b,c,d,e,f,g){f.exports=c("XController").create("/si/linkclick/ajax_callback/",{lynx_uri:{type:"String"}})}),null);
__d("FBLynxLogging",["AsyncRequest","AsyncResponse","BanzaiODS","XLynxAsyncCallbackController"],(function a(b,c,d,e,f,g){"use strict";var h={log:function i(j){var k=c("XLynxAsyncCallbackController").getURIBuilder().getURI();new(c("AsyncRequest"))(k).setData({lynx_uri:j}).setErrorHandler(function(l){var m=l.getError();c("BanzaiODS").bumpEntityKey("linkshim","click_log.post.fail."+m)}).setTransportErrorHandler(function(l){var m=l.getError();c("BanzaiODS").bumpEntityKey("linkshim","click_log.post.transport_fail."+m)}).send()}};f.exports=h}),null);
__d("isLinkshimURI",["isBonfireURI","isFacebookURI","isMessengerDotComURI"],(function a(b,c,d,e,f,g){"use strict";function h(i){var j=i.getPath();if((j==="/l.php"||j.indexOf("/si/ajax/l/")===0||j.indexOf("/l/")===0||j.indexOf("l/")===0)&&(c("isFacebookURI")(i)||c("isMessengerDotComURI")(i)||c("isBonfireURI")(i)))return true;return false}f.exports=h}),null);
__d("FBLynxBase",["$","FBLynxLogging","LinkshimHandlerConfig","isLinkshimURI","URI"],(function a(b,c,d,e,f,g){"use strict";__p&&__p();function h(j){if(!c("isLinkshimURI")(j))return null;var k=j.getQueryData().u;if(!k)return null;return k}var i={logAsyncClick:function j(k){i.swapLinkWithUnshimmedLink(k);var l=k.getAttribute("data-lynx-uri");if(!l)return;c("FBLynxLogging").log(l)},originReferrerPolicyClick:function j(k){var l=c("$")("meta_referrer");l.content=c("LinkshimHandlerConfig").switched_meta_referrer_policy;i.logAsyncClick(k);setTimeout(function(){l.content=c("LinkshimHandlerConfig").default_meta_referrer_policy},100)},swapLinkWithUnshimmedLink:function j(k){var l=k.href,m=h(new(c("URI"))(l));if(!m)return;k.setAttribute("data-lynx-uri",l);k.href=m},revertSwapIfLynxURIPresent:function j(k){var l=k.getAttribute("data-lynx-uri");if(!l)return;k.removeAttribute("data-lynx-uri");k.href=l}};f.exports=i}),null);
__d("FBLynx",["Event","FBLynxBase","LinkshimHandlerConfig","Parent"],(function a(b,c,d,e,f,g){"use strict";__p&&__p();var h={alreadySetup:false,setupDelegation:function i(){__p&&__p();var j=arguments.length<=0||arguments[0]===undefined?false:arguments[0];if(document.body==null){if(j)return;setTimeout(function(){h.setupDelegation(true)},100);return}if(h.alreadySetup)return;h.alreadySetup=true;var k=function k(event){__p&&__p();var l=h.getMaybeLynxLink(event.target);if(!l)return;var m=l[0],n=l[1];switch(m){case"async":case"asynclazy":c("FBLynxBase").logAsyncClick(n);break;case"origin":c("FBLynxBase").originReferrerPolicyClick(n);break;case"hover":h.hoverClick(n);break}};c("Event").listen(document.body,"click",k);if(c("LinkshimHandlerConfig").middle_click_requires_event)c("Event").listen(document.body,"mouseup",function(event){if(event.button==1)k(event)});c("Event").listen(document.body,"mouseover",function(event){var l=h.getMaybeLynxLink(event.target);if(!l)return;var m=l[0],n=l[1];switch(m){case"async":case"asynclazy":case"origin":case"hover":h.mouseover(n);break}});c("Event").listen(document.body,"contextmenu",function(event){var l=h.getMaybeLynxLink(event.target);if(!l)return;var m=l[0],n=l[1];switch(m){case"async":case"hover":case"origin":h.contextmenu(n);break;case"asynclazy":break}})},getMaybeLynxLink:function i(j){var k=c("Parent").byAttribute(j,"data-lynx-mode");if(k instanceof HTMLAnchorElement){var l=k.getAttribute("data-lynx-mode");switch(l){case"async":case"asynclazy":case"hover":case"origin":return[l,k];default:return null}}return null},hoverClick:function i(j){c("FBLynxBase").revertSwapIfLynxURIPresent(j)},mouseover:function i(j){c("FBLynxBase").swapLinkWithUnshimmedLink(j)},contextmenu:function i(j){c("FBLynxBase").revertSwapIfLynxURIPresent(j)}};f.exports=h}),null);